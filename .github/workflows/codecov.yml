name: Codecov Coverage Upload

on:
  workflow_dispatch:

permissions:
  contents: read
  id-token: write

jobs:
  coverage:
    name: Collect and upload coverage
    uses: ./.github/workflows/reusable-python-tests.yml
    with:
      python-version: "3.14"
      run-codecov: true
      upload-coverage-artifact: true
      coverage-artifact-name: codecov-coverage-report
      upload-junit-artifact: true
      junit-artifact-name: codecov-junit-report
      publish-pages: false
