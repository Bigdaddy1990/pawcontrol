# Home Assistant quality-scale tracker for PawControl
#
# The integration is still working toward the Bronze tier. This file captures
# the current evidence and the outstanding gaps that prevent a higher
# classification. Each rule links to the artefact (or missing work) that will
# need to be completed before we can credibly claim Silver, Gold, or Platinum.

quality_scale: bronze

rules:
  has-owner:
    status: done
    comment: "`manifest.json` and `CODEOWNERS` list @BigDaddy1990 as the maintainer."

  config-flow:
    status: in_progress
    comment: "The config flow covers the basic user path, but reconfigure, options, and reauth steps are still being implemented (`tests/components/pawcontrol/test_config_flow.py`)."

  docs-actions:
    status: todo
    comment: "Garden, weather, and notification helpers are registered in `services.py` but only a subset are documented in `custom_components/pawcontrol/services.yaml`."

  docs-removal:
    status: in_progress
    comment: "Uninstall steps are noted in `INSTALLATION.md`, yet we still need to document device cleanup and cloud disconnect procedures."

  runtime-data:
    status: in_progress
    comment: "Runtime data helpers exist, but a number of platforms still access coordinator attributes directly and there is no automated coverage demonstrating consistent usage."

  stale-devices:
    status: in_progress
    comment: "`async_remove_config_entry_device` has been prototyped, but we do not yet have tests proving that device removal is safe for active dogs."

  dynamic-devices:
    status: todo
    comment: "Reloading the integration does not recreate discovered entities; dynamic device support is missing test coverage."

  test-before-setup:
    status: todo
    comment: "No regression tests ensure setup aborts gracefully on invalid credentials or network failures."

  test-before-update:
    status: todo
    comment: "Coordinator update paths are untested; see `tests/components/pawcontrol/test_coordinator.py` for pending coverage."

  test-before-unload:
    status: todo
    comment: "Unload/reload hooks are not exercised by the automated suite, leaving cleanup behaviour unverified."

  test-coverage:
    status: todo
    comment: "`pytest -q` currently executes only a small subset of tests because the Home Assistant test harness is missing core stubs; the full component/integration suites fail when HA is absent."

  brands:
    status: todo
    comment: "Brand assets have not been submitted to `home-assistant/brands` and the repository lacks the required icons."

  documentation:
    status: in_progress
    comment: "README and INSTALLATION cover onboarding, but maintenance, diagnostics, and troubleshooting guides are still thin."

  diagnostics:
    status: todo
    comment: "Diagnostics endpoints are not implemented; the diagnostics module returns placeholders."

  repairs:
    status: todo
    comment: "No repair flows are registered. We need to add actionable issue handlers once runtime data exists."

  maintenance-playbook:
    status: todo
    comment: "There is no sustainment guide documenting how we keep evidence current after Bronze is achieved."

  localization:
    status: todo
    comment: "User-facing strings are not localised; translation files are absent."
